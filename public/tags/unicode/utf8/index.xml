<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Unicode/Utf8 on Androg</title>
    <link>kwmt27.net/tags/unicode/utf8/</link>
    <description>Recent content in Unicode/Utf8 on Androg</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <lastBuildDate>Wed, 09 Oct 2013 00:00:00 +0000</lastBuildDate>
    <atom:link href="kwmt27.net/tags/unicode/utf8/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>#golang 文字数をカウントするには？</title>
      <link>/kwmt27.net/index.php/2013/10/10/how-to-count-number-of-string-golang/</link>
      <pubDate>Wed, 09 Oct 2013 00:00:00 +0000</pubDate>
      
      <guid>/kwmt27.net/index.php/2013/10/10/how-to-count-number-of-string-golang/</guid>
      <description>

&lt;h2 id=&#34;文字数をカウントしたい:6f938ada1f11f42a584fe7ddf82d3475&#34;&gt;文字数をカウントしたい！&lt;/h2&gt;

&lt;p&gt;そう思ってすぐ思いついたのは、stringsパッケージの&lt;a href=&#34;http://golang.org/pkg/strings/#Count&#34; target=&#34;_blank&#34;&gt;Count&lt;/a&gt;関数。&lt;/p&gt;

&lt;p&gt;Exampleのあったので、確認のためRunしてみる。&lt;/p&gt;

&lt;p&gt;なぜか期待する文字数の +1 になる。&lt;a href=&#34;http://golang.org/src/pkg/strings/strings.go?#L70&#34; target=&#34;_blank&#34;&gt;srcを見てみたところ、+1されてる・・・&lt;/a&gt;。なんで？&lt;/p&gt;

&lt;p&gt;とツイートしたら、ロブ・パイク先生からお返事頂きました！&lt;/p&gt;

&lt;blockquote class=&#34;twitter-tweet&#34; width=&#34;550&#34;&gt;
  &lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;
    &lt;a href=&#34;https://twitter.com/kwmt27&#34;&gt;@kwmt27&lt;/a&gt; All strings contain the empty string.
  &lt;/p&gt;
  
  &lt;p&gt;
    &amp;mdash; Rob Pike (@rob_pike) &lt;a href=&#34;https://twitter.com/rob_pike/status/387996687173550080&#34;&gt;October 9, 2013&lt;/a&gt;
  &lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;でも、あれ？ &lt;a href=&#34;http://golang.org/pkg/strings/#Count&#34; target=&#34;_blank&#34;&gt;strings#Count&lt;/a&gt;の例にあるけど、&lt;/p&gt;

&lt;pre class=&#34;go&#34;&gt;fmt.Println(strings.Count(&#34;cheese&#34;, &#34;e&#34;))
&lt;/pre&gt;

&lt;p&gt;これは、3と出力しますよね。&lt;/p&gt;

&lt;pre class=&#34;go&#34;&gt;fmt.Println(strings.Count(&#34;five&#34;, &#34;&#34;))
&lt;/pre&gt;

&lt;p&gt;これは、なんで5を出力するの？すべての文字列にempty stringが&amp;#8221;含まれてる&amp;#8221;んなら、1じゃないのかな！？この答えは、たぶんプログラミング言語の基本な気がする&amp;#8230;ちょっと調べてみよう。&lt;/p&gt;

&lt;p&gt;とにかく、期待する文字数をカウントするには、Count関数でも使われているunicode/utf8パッケージの&lt;a href=&#34;http://golang.org/pkg/unicode/utf8/#RuneCountInString&#34; target=&#34;_blank&#34;&gt;RuneCountInString&lt;/a&gt;関数を使えばよさそうだ。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>