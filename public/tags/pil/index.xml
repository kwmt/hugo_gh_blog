<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Pil on Androg</title>
    <link>kwmt27.net/tags/pil/</link>
    <description>Recent content in Pil on Androg</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <lastBuildDate>Sat, 13 Jul 2013 00:00:00 +0000</lastBuildDate>
    <atom:link href="kwmt27.net/tags/pil/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>#python でPILを使って、jpegファイルを扱った時に「decoder jpeg not available」というエラーが出た場合の対処法</title>
      <link>/kwmt27.net/index.php/2013/07/14/python-pil-error-decoder-jpeg-not-available/</link>
      <pubDate>Sat, 13 Jul 2013 00:00:00 +0000</pubDate>
      
      <guid>/kwmt27.net/index.php/2013/07/14/python-pil-error-decoder-jpeg-not-available/</guid>
      <description>

&lt;p&gt;環境：Mac OS X 10.7.5&lt;/p&gt;

&lt;h2 id=&#34;問題:16b13dc4b6a8c1b3ce440adca746406d&#34;&gt;問題&lt;/h2&gt;

&lt;p&gt;PILを使って、jpgファイルをオープンして、オープンしたファイルに対してアクセスしようとすると（今回の場合、getpixelの部分）、下記のような「decoder jpeg not available」というエラーがでる。&lt;/p&gt;

&lt;pre class=&#34;go&#34;&gt;% python hoge.py
Traceback (most recent call last):
File &#34;hoge.py&#34;, line 9, in
p= img.getpixel((x,y))
File &#34;/Library/Python/2.7/site-packages/PIL/Image.py&#34;, line 949, in getpixel
self.load()
File &#34;/Library/Python/2.7/site-packages/PIL/ImageFile.py&#34;, line 189, in load
d = Image._getdecoder(self.mode, d, a, self.decoderconfig)
File &#34;/Library/Python/2.7/site-packages/PIL/Image.py&#34;, line 385, in _getdecoder
raise IOError(&#34;decoder %s not available&#34; % decoder_name)
IOError: decoder jpeg not available
&lt;/pre&gt;

&lt;h2 id=&#34;確認:16b13dc4b6a8c1b3ce440adca746406d&#34;&gt;確認&lt;/h2&gt;

&lt;p&gt;libjpegが入ってないから？ということをtwitterで教えて頂き、インストールされているか確認したところ入ってなさげ。&lt;/p&gt;

&lt;pre class=&#34;go&#34;&gt;portからインストールしてた場合
% port installed | grep libjpeg
%

ソースからインストールしていた場合
% ll /usr/local/lib/ | grep jpeg
%
&lt;/pre&gt;

&lt;h2 id=&#34;対策:16b13dc4b6a8c1b3ce440adca746406d&#34;&gt;対策&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;libjpegをソースからインストールする
&lt;pre class=&#34;go&#34;&gt;&lt;a href=&#34;http://www.ijg.org/files/jpegsrc.v8c.tar.gz&#34;&gt;http://www.ijg.org/files/jpegsrc.v8c.tar.gz&lt;/a&gt;をダウンロードして解凍
% ./configure
% make
% sudo make install
&lt;/pre&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;PILをインストールしなおす
&lt;pre class=&#34;go&#34;&gt;% sudo pip uninstall pil
% sudo pip install pil
&lt;/pre&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;最初の問題が起こったpythonプログラムを再実行
エラーが出なくなった。&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;参考:16b13dc4b6a8c1b3ce440adca746406d&#34;&gt;参考&lt;/h2&gt;

&lt;dl&gt;
&lt;dt&gt;Python Imaging Library (PIL) Decoder jpeg not available — how to fix?&lt;/dt&gt;
&lt;dd&gt;&lt;a href=&#34;http://apple.stackexchange.com/questions/59718/python-imaging-library-pil-decoder-jpeg-not-available-how-to-fix/59719#59719&#34; target=&#34;_blank&#34;&gt;&lt;a href=&#34;http://apple.stackexchange.com/questions/59718/python-imaging-library-pil-decoder-jpeg-not-available-how-to-fix/59719#59719&#34;&gt;http://apple.stackexchange.com/questions/59718/python-imaging-library-pil-decoder-jpeg-not-available-how-to-fix/59719#59719&lt;/a&gt;&lt;/a&gt;&lt;/dd&gt;
&lt;/dl&gt;
</description>
    </item>
    
  </channel>
</rss>